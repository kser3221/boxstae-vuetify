{"remainingRequest":"/home/test/boxstate-vuetify/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/test/boxstate-vuetify/src/components/cli/connect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/test/boxstate-vuetify/src/components/cli/connect.vue","mtime":1630402259417},{"path":"/home/test/boxstate-vuetify/node_modules/cache-loader/dist/cjs.js","mtime":1630402238085},{"path":"/home/test/boxstate-vuetify/node_modules/babel-loader/lib/index.js","mtime":1630402238097},{"path":"/home/test/boxstate-vuetify/node_modules/cache-loader/dist/cjs.js","mtime":1630402238085},{"path":"/home/test/boxstate-vuetify/node_modules/vue-loader/lib/index.js","mtime":1630402237221}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnY29ubmVjdCcsCgljb21wdXRlZDogewoJCWNsaV9zZXJ2ZXI6IGZ1bmN0aW9uKCkgewoJCQljb25zb2xlLmxvZygnY2xpX3NlcnZlcicpOwoJCQl2YXIgb3B0OwoJCQl2YXIgZXhlY19zdHI7CgoJCQl2YXIga2lsbF9wcm9jZXNzID0gImtpbGxhbGwgLUtJTEwgc2hlbGxpbmFib3hkIjsKCQkJc2hlbGwuZXhlYyhraWxsX3Byb2Nlc3MpOwoKCQkJaWYodGhpcy4kcm91dGUucXVlcnkucHJvdG9jb2wgPT0gImh0dHA6IikgewoJCQkJb3B0ID0gIi10IC1zIjsKCQkJfSBlbHNlIHsKCQkJCW9wdCA9ICItcyI7CgkJCX0KCgkJCWlmKHRoaXMuJHJvdXRlLnF1ZXJ5LmJveF9tZXRob2QgPT0gIlRFTE5FVCIpIHsKCQkJCWV4ZWNfc3RyID0gIi91c3IvbG9jYWwvYmluL3NoZWxsaW5hYm94ZCAiICsgb3B0ICsgIiAnLzp3d3ctZGF0YTp3d3ctZGF0YTovQ01EOi91c3IvYmluL3RlbG5ldCAiICsgdGhpcy4kcm91dGUucXVlcnkuYm94X2lwICsgIiciOwoJCQl9IGVsc2UgewoJCQkJZXhlY19zdHIgPSAiL3Vzci9sb2NhbC9iaW4vc2hlbGxpbmFib3hkICIgKyBvcHQgKyAiIC86U1NIOiIgKyB0aGlzLiRyb3V0ZS5xdWVyeS5ib3hfaXA7CgkJCX0KCQkJY29uc29sZS5sb2coZXhlY19zdHIpOwoKCQkJc2hlbGwuZXhlYyhleGVjX3N0cik7CgoJCQlyZXR1cm47CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJc2V0VGltZW91dCgoKSA9PiB7CgkJCWRvY3VtZW50LmxvY2F0aW9uPXRoaXMuJHJvdXRlLnF1ZXJ5LnByb3RvY29sICsgIi8vIiArIHRoaXMuJHJvdXRlLnF1ZXJ5LmJveF9pcCArICI6IiArIDQyMDA7CgkJCWNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ob3N0KTsKCQkJY29uc29sZS5sb2codGhpcy4kcm91dGUucXVlcnkpOwoJCX0sIDEwMDApCgl9Cn0K"},{"version":3,"sources":["connect.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"connect.vue","sourceRoot":"src/components/cli","sourcesContent":["<template>\n\t<div class=\"connect\">\n\t\t{{$route.query.box_ip}}\n\t\t{{$route.query.protocol}}\n\t\t<!--iframe name='ifr_cli1' :src='cli_server' width='0' height='0' frameborder='0' border='0' scrolling='no'></iframe-->\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'connect',\n\tcomputed: {\n\t\tcli_server: function() {\n\t\t\tconsole.log('cli_server');\n\t\t\tvar opt;\n\t\t\tvar exec_str;\n\n\t\t\tvar kill_process = \"killall -KILL shellinaboxd\";\n\t\t\tshell.exec(kill_process);\n\n\t\t\tif(this.$route.query.protocol == \"http:\") {\n\t\t\t\topt = \"-t -s\";\n\t\t\t} else {\n\t\t\t\topt = \"-s\";\n\t\t\t}\n\n\t\t\tif(this.$route.query.box_method == \"TELNET\") {\n\t\t\t\texec_str = \"/usr/local/bin/shellinaboxd \" + opt + \" '/:www-data:www-data:/CMD:/usr/bin/telnet \" + this.$route.query.box_ip + \"'\";\n\t\t\t} else {\n\t\t\t\texec_str = \"/usr/local/bin/shellinaboxd \" + opt + \" /:SSH:\" + this.$route.query.box_ip;\n\t\t\t}\n\t\t\tconsole.log(exec_str);\n\n\t\t\tshell.exec(exec_str);\n\n\t\t\treturn;\n\t\t}\n\t},\n\tcreated() {\n\t\tsetTimeout(() => {\n\t\t\tdocument.location=this.$route.query.protocol + \"//\" + this.$route.query.box_ip + \":\" + 4200;\n\t\t\tconsole.log(window.location.host);\n\t\t\tconsole.log(this.$route.query);\n\t\t}, 1000)\n\t}\n}\n</script>\n"]}]}