{"remainingRequest":"/home/test/app-vuetify/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/test/app-vuetify/src/views/Group.vue?vue&type=style&index=0&id=09dd3596&scoped=true&lang=css&","dependencies":[{"path":"/home/test/app-vuetify/src/views/Group.vue","mtime":1628223996244},{"path":"/home/test/app-vuetify/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmdycCB7CglwYWRkaW5nOiAyMHB4Owp9Ci5wb3B1cCB7CgkvKiBtYXJnaW4tdG9wOiAtNDAlOyAqLwp9Ci5vdmVybGF5IHsKCW9wYWNpdHk6IDAuNDY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzMsIDMzLCAzMyk7CiAgICBib3JkZXItY29sb3I6IHJnYigzMywgMzMsIDMzKTsKCXdpZHRoOiAxMDAlOwoJaGVpZ2h0OiAxMDAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAwOwoJbGVmdDogMDsKCXJpZ2h0OiAwOwoJYm90dG9tOiAwOwp9Cg=="},{"version":3,"sources":["Group.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Group.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div class=\"grp\">\n\t\t<SearchDiv\n\t\t\t:searchOption=\"search_opt\"\n\t\t\t:searchType=\"search_type\"\n\t\t\t:searchValue=\"search_val\"\n\t\t\t@searchE=\"searchClick\"\n\t\t/>\n\n\t\t<v-toolbar flat color=\"white\">\n\t\t\t<v-toolbar-title>검색결과: 총 {{ items.length }} 개</v-toolbar-title>\n\n\t\t\t<v-divider\n\t\t\t  class=\"mx-4\"\n\t\t\t  inset\n\t\t\t  vertical\n\t\t\t></v-divider>\n\n\t\t\t<v-spacer></v-spacer>\n\n\t\t\t<v-btn\n\t\t\t  color=\"primary\"\n\t\t\t  dark\n\t\t\t  class=\"mb-2\"\n\t\t\t  @click=\"addClick\"\n\t\t\t>추 가</v-btn>\n\t\t</v-toolbar>\n\n\t\t<DataTable \n\t\t:fields=\"fields\"\n\t\t:items=\"datas\"\n\t\t@openPop=\"popOpen\"\n\t\t/>\n\n\t\t<div v-show=\"dialog\" class=\"overlay\" @click=\"dialog = !dialog\"></div>\n\t\t<v-row\n\t\t  align=\"center\"\n\t\t  justify=\"center\"\n\t\t>\n\t\t<v-card v-show=\"dialog\" max-width=\"600px\" class=\"popup\">\n\t\t\t<v-card-title>\n\t\t\t\t<span class=\"headline\">그룹 설정</span>\n\t\t\t</v-card-title>\n\n\t\t\t<v-card-text>\n\t\t\t  <v-container>\n\t\t\t\t<v-row>\n\t\t\t\t  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n\t\t\t\t\t<v-text-field v-model=\"grp_info.bname\" label=\"그룹명\"\n\t\t\t\t\t:disabled=\"popup_status == 'view'\"\n\t\t\t\t\t></v-text-field>\n\t\t\t\t  </v-col>\n\t\t\t\t  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n\t\t\t\t\t<v-text-field v-model=\"grp_info.pname\" label=\"상위그룹명\"\n\t\t\t\t\t:disabled=\"popup_status == 'view'\"\n\t\t\t\t\t></v-text-field>\n\t\t\t\t  </v-col>\n\t\t\t\t</v-row>\n\t\t\t\t<v-row v-show=\"popup_status == 'view'\">\n\t\t\t\t  <v-col cols=\"12\" sm=\"10\" md=\"10\">\n\t\t\t\t\t<v-text-field v-model=\"grp_info.unum\" label=\"고유번호\"\n\t\t\t\t\tdisabled\n\t\t\t\t\t></v-text-field>\n\t\t\t\t  </v-col>\n\t\t\t\t</v-row>\n\t\t\t\t<v-row v-show=\"popup_status == 'view'\">\n\t\t\t\t  <v-col cols=\"12\" sm=\"10\" md=\"10\">\n\t\t\t\t\t<v-text-field v-model=\"grp_info.boxname\" label=\"등록된 장비명\"\n\t\t\t\t\tdisabled\n\t\t\t\t\t></v-text-field>\n\t\t\t\t  </v-col>\n\t\t\t\t</v-row>\n\t\t\t\t<v-row v-show=\"popup_status == 'view'\">\n\t\t\t\t  <v-col cols=\"12\" sm=\"10\" md=\"10\">\n\t\t\t\t\t<v-text-field v-model=\"grp_info.sdate\" label=\"등록일\"\n\t\t\t\t\tdisabled\n\t\t\t\t\t></v-text-field>\n\t\t\t\t  </v-col>\n\t\t\t\t</v-row>\n\t\t\t\t<v-row>\n\t\t\t\t  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n\t\t\t\t\t<v-checkbox\n\t\t\t\t\tv-model=\"grp_info.report_weekly\"\n\t\t\t\t\tlabel=\"주간 레포트 생성\"\n\t\t\t\t\tcolor=\"orange\"\n\t\t\t\t\t:disabled=\"popup_status == 'view'\"\n\t\t\t\t\t></v-checkbox>\n\t\t\t\t  </v-col>\n\t\t\t\t  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n\t\t\t\t\t<v-checkbox\n\t\t\t\t\tv-model=\"grp_info.report_monthly\"\n\t\t\t\t\tlabel=\"월간 레포트 생성\"\n\t\t\t\t\tcolor=\"orange\"\n\t\t\t\t\t:disabled=\"popup_status == 'view'\"\n\t\t\t\t\t></v-checkbox>\n\t\t\t\t  </v-col>\n\t\t\t\t</v-row>\n\t\t\t  </v-container>\n\t\t\t</v-card-text>\n\n\t\t\t<v-card-actions>\n\t\t\t  <v-spacer></v-spacer>\n\t\t\t  <v-btn color=\"blue darken-1\" text @click=\"dialog = !dialog\">닫 기</v-btn>\n\t\t\t  <v-btn color=\"blue darken-1\" text @click=\"delClick\" v-show=\"popup_status == 'view'\">삭 제</v-btn>\n\t\t\t  <v-btn color=\"blue darken-1\" text @click=\"popup_status = 'edit'\" v-show=\"popup_status == 'view'\">변 경</v-btn>\n\t\t\t  <v-btn color=\"blue darken-1\" text @click=\"save\" v-show=\"popup_status != 'view'\">적 용</v-btn>\n\t\t\t</v-card-actions>\n\t\t</v-card>\n\t\t</v-row>\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport SearchDiv from '@/components/SearchDiv.vue'\nimport DataTable from '@/components/DataTable.vue'\nimport EventBus from '@/EventBus.js'\n\nexport default {\n\tname: 'Group',\n\t\n\tcomponents: {\n\t\tSearchDiv,\n\t\tDataTable,\n\t},\n\t\n\tdata: () => ({\n\t\tdialog: false,\n\t\tsearch_opt: [\n\t\t\t{ type: 1, label: \"그룹명\" },\n\t\t\t{ type: 2, label: \"상위그룹명\" },\n\t\t],\n\t\tsearch_type: {},\n\t\tsearch_val: '',\n\n\t\tfields: [\n\t\t\t{ value: 'bname', text: '그룹명', sortable: true },\n\t\t\t{ value: 'pname', text: '상위그룹명', sortable: true },\n\t\t\t{ value: 'weekly', text: '주간 레포트 생성', sortable: true },\n\t\t\t{ value: 'monthly', text: '월간 레포트 생성', sortable: true },\n\t\t\t{ value: 'sdate', text: '등록일시', sortable: true },\n\t\t],\n\t\tdatas: [],\n\t\ttmp_datas: [],\n\t\titems: [],\n\t\taitems: [\n\t\t\t{ id: 1, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'grp', pname: 'site', pid: 0 },\n\t\t\t{ id: 2, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'grp2', pname: 'site', pid: 0 },\n\t\t\t{ id: 3, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'grp3', pname: 'site', pid: 0 },\n\t\t\t{ id: 4, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 5, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 6, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 7, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 8, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 9, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 10, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 11, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 12, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 13, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 14, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 15, weekly: 'X', monthly: 'O', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 16, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 17, weekly: 'X', monthly: 'O', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 18, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 19, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 20, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 21, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 22, weekly: 'X', monthly: 'O', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 23, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 24, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 25, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 26, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 27, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 28, weekly: 'X', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 29, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 30, weekly: 'O', monthly: 'O', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 31, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 32, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 33, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t\t{ id: 34, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Dickerson', pname: 'Macdonald' },\n\t\t\t{ id: 35, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Larsen', pname: 'Shaw' },\n\t\t\t{ id: 36, weekly: 'O', monthly: 'X', sdate: '2020-02-05', gname: 'Geneva', pname: 'Wilson' },\n\t\t],\n\n\t\tpopup_status: 'view',\n\t\topt_report: [\n\t\t\t{ text: '주간 레포트', value: 'weekly' },\n\t\t\t{ text: '월간 레포트', value: 'monthly' },\n\t\t],\n\n\t\tgrp_info: {\n\t\t\tid: '',\n\t\t\tbname: '',\n\t\t\tpname: '',\n\t\t\tboxname: '',\n\t\t\tunum: '',\n\t\t\tsdate: '',\n\t\t\treport_weekly: false,\n\t\t\treport_monthly: false,\n\t\t},\n\n\t\teditedIndex: -1,\n\t}),\n\tmethods: {\n\t\tsearchClick: function(type, val) {\n\t\t\tconsole.log(type+': '+val);\n\n\t\t\tif(val.length) {\n\t\t\t\tthis.datas = this.tmp_datas;\n\t\t\t\tvar item = this.datas.filter(d => {\n\t\t\t\t\tif(type == 1) {\n\t\t\t\t\t\treturn (d.bname.trim().toUpperCase().indexOf(val.trim().toUpperCase()) != -1)\n\t\t\t\t\t} else if(type == 2) {\n\t\t\t\t\t\treturn (d.pname.trim().toUpperCase().indexOf(val.trim().toUpperCase()) != -1)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.datas = item;\n\t\t\t} else {\n\t\t\t\tthis.datas = this.tmp_datas;\n\t\t\t}\n\t\t},\n\t\tpopOpen(item) {\n\t\t\tconsole.log(item);\n\t\t\tthis.popup_status = \"view\";\n\t\t\tthis.grp_info = {\n\t\t\t\tid: item.id,\n\t\t\t\tbname: item.bname,\n\t\t\t\tpname: item.pname,\n\t\t\t\tboxname: item.boxname,\n\t\t\t\tpid: item.pid,\n\t\t\t\tunum: '00000' + item.id,\n\t\t\t\tsdate: item.sdate,\n\t\t\t\treport_weekly: (item.weekly == 'O') ? true : false,\n\t\t\t\treport_monthly: (item.monthly == 'O') ? true : false,\n\t\t\t};\n\n\t\t\tvar id = this.grp_info.id;\n\t\t\tvar ind = this.datas.findIndex(function(d) {\n\t\t\t\t\t\treturn d.id == id\n\t\t\t\t\t});\n\t\t\tconsole.log(ind);\n\n\t\t\tthis.editedIndex = ind;\n\t\t\tthis.dialog = true;\n\t\t},\n\t\taddClick: function() {\n\t\t\tthis.popup_status = \"add\";\n\n\t\t\tthis.grp_info = {\n\t\t\t\tid: '',\n\t\t\t\tbname: '',\n\t\t\t\tpname: '',\n\t\t\t\tboxname: '',\n\t\t\t\tunum: '',\n\t\t\t\tsdate: '',\n\t\t\t\treport_weekly: false,\n\t\t\t\treport_monthly: false,\n\t\t\t};\n\t\t\tthis.dialog = true;\n\t\t},\n\t\tdelClick() {\n\t\t\tvar list = [...this.datas];\n\t\t\tvar id = this.grp_info.id;\n\n\t\t\tEventBus.$emit('tree_update', 'delete', this.grp_info);\n\n\t\t\tfor(var key in list) {\n\t\t\t\tif(list[key].id == id) {\n\t\t\t\t\tconsole.log(key);\n\t\t\t\t\tlist.splice(key, 1);\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.datas = list;\n\n\t\t\tthis.dialog = false;\n\t\t},\n\t\tsave() {\n\t\t\tvar week = this.grp_info.report_weekly;\n\t\t\tvar month = this.grp_info.report_monthly;\n\n\t\t\tthis.grp_info.report_weekly = week ? 'O' : 'X';\n\t\t\tthis.grp_info.report_monthly = month ? 'O' : 'X';\n\n\t\t\tif(this.popup_status == \"add\") {\n\t\t\t\tconsole.log('add');\n\t\t\t\tvar len = this.tmp_datas.length;\n\t\t\t\tvar id = len ? this.tmp_datas[len - 1].id + 1 : 1;\n\n\t\t\t\tvar obj = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tbname: this.grp_info.bname,\n\t\t\t\t\tpname: this.grp_info.pname,\n\t\t\t\t\tsdate: new Date().toISOString().substr(0, 10),\n\t\t\t\t\tweekly: this.grp_info.report_weekly,\n\t\t\t\t\tmonthly: this.grp_info.report_monthly,\n\t\t\t\t};\n\n\t\t\t\tthis.tmp_datas.push(obj);\n\t\t\t} else {\n\t\t\t\tconsole.log('edit');\n\t\t\t\tObject.assign(this.tmp_datas[this.editedIndex], this.grp_info)\n\t\t\t\tthis.tmp_datas[this.editedIndex].bname = this.grp_info.bname;\n\t\t\t\tthis.tmp_datas[this.editedIndex].pname = this.grp_info.pname;\n\t\t\t\tthis.tmp_datas[this.editedIndex].sdate = this.grp_info.sdate;\n\t\t\t\tthis.tmp_datas[this.editedIndex].weekly = this.grp_info.report_weekly;\n\t\t\t\tthis.tmp_datas[this.editedIndex].monthly = this.grp_info.report_monthly;\n\t\t\t}\n\t\t\tconsole.log(this.editedIndex);\n\t\t\tconsole.log(this.grp_info);\n\t\t\tconsole.log(this.datas[this.editedIndex]);\n\n\t\t\tthis.datas = this.tmp_datas;\n\n\t\t\tthis.search_type = this.search_opt[0];\n\t\t\tthis.search_val = '';\n\n\t\t\tEventBus.$emit('tree_update', this.popup_status, this.grp_info);\n\n\t\t\tthis.dialog = false;\n\t\t},\n\t},\n\n\tcreated() {\n\t\tthis.search_type = this.search_opt[0];\n\n\t\tthis.datas = this.items;\n\t\tthis.tmp_datas = this.items;\n\n\t\tEventBus.$on('tree_click', val => {\n\t\t\tconsole.log(val);\n\t\t\tif(val != undefined) {\n\t\t\t\tthis.grp_info.pname = val.bname;\n\t\t\t\tthis.grp_info.pid = val.id;\n\t\t\t}\n\t\t});\n\t}\n};\n</script>\n\n<style scoped>\n.grp {\n\tpadding: 20px;\n}\n.popup {\n\t/* margin-top: -40%; */\n}\n.overlay {\n\topacity: 0.46;\n    background-color: rgb(33, 33, 33);\n    border-color: rgb(33, 33, 33);\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n}\n</style>\n"]}]}