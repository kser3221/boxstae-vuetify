{"remainingRequest":"/home/test/app-vuetify/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/test/app-vuetify/src/components/Tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/test/app-vuetify/src/components/Tree.vue","mtime":1623301426503},{"path":"/home/test/app-vuetify/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/test/app-vuetify/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/test/app-vuetify/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL0V2ZW50QnVzLmpzJwoKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogIlRyZWUiLAoJcHJvcHM6IHsKCQlpdGVtczogQXJyYXkKCX0sCglkYXRhOiAoKSA9PiAoewoJCWluaXRpYWxseU9wZW46IFsncHVibGljJ10sCgkJZmlsZXM6IHsKCQkJc3VjY2VzczogJ21kaS1jaXJjbGUtb3V0bGluZScsCgkJCWVycjogJ21kaS1jaXJjbGUnLAoJCX0sCgoJCXRyZWVfaXRlbXM6IFsKCQkJewoJCQkJaWQ6IDEsCgkJCQlibmFtZTogJ3NpdGUnLAoJCQkJc2xhdmU6IDAsCgkJCQlwaWQ6IDAsCgkJCQljaGlsZHJlbjogWwoJCQkJCXsKCQkJCQkJaWQ6IDIsCgkJCQkJCWJuYW1lOiAnZ3JwJywKCQkJCQkJc2xhdmU6IDIsCgkJCQkJCXBpZDogMSwKCQkJCQkJY2hpbGRyZW46IFsKCQkJCQkJCXsKCQkJCQkJCQlpZDogNSwKCQkJCQkJCQlibmFtZTogJ2JjaDAxJywKCQkJCQkJCQlzbGF2ZTogNCwKCQkJCQkJCQlwaWQ6IDIsCgkJCQkJCQkJZmlsZTogJ3N1Y2Nlc3MnLAoJCQkJCQkJfQoJCQkJCQldLAoJCQkJCX0sCgkJCQkJewoJCQkJCQlpZDogMywKCQkJCQkJYm5hbWU6ICdncnAyJywKCQkJCQkJc2xhdmU6IDEsCgkJCQkJCXBpZDogMSwKCQkJCQkJZmlsZTogJ2VycicsCgkJCQkJfSwKCQkJCQl7CgkJCQkJCWlkOiA0LAoJCQkJCSAgCWJuYW1lOiAnZ3JwMycsCgkJCQkJCXNsYXZlOiAxLAoJCQkJCQlwaWQ6IDEsCgkJCQkJICAJZmlsZTogJ3N1Y2Nlc3MnLAoJCQkJCX0sCgkJCQldLAoJCQl9LAoJCV0sCgl9KSwKCW1ldGhvZHM6IHsKCQl0cmVlQ2xpY2s6IGZ1bmN0aW9uKHZhbCkgewoJCQljb25zb2xlLmxvZyh2YWxbMF0pOwoJCQlFdmVudEJ1cy4kZW1pdCgndHJlZV9jbGljaycsIHZhbFswXSk7CgkJfQoJfSwKCWNyZWF0ZWQoKSB7Cgl9LAoJY29tcHV0ZWQ6IHsKCQlmaWx0ZXIoKSB7CgkJCXJldHVybiB0aGlzLmNhc2VTZW5zaXRpdmUKCQkJCT8gKGl0ZW0sIHNlYXJjaCwgdGV4dGtleSkgPT4gaXRlbVt0ZXh0S2V5XS5pbmRleE9mKHNlYXJjaCkgPiAtMQoJCQkJOiB1bmRlZmluZWQKCQl9Cgl9Cn0KCmNvbnN0IGNyZWF0ZVRyZWUgPSAodHJlZSwgb2JqKSA9PiB7Cgl0cmVlLm1hcCgobm9kZSkgPT4gewoJCQljb25zb2xlLmxvZyhub2RlKTsKCQlpZihub2RlID09IFtdIHx8IG5vZGUgPT0ge30pIHsKCQkJY29uc29sZS5sb2coJ2VtcHR5Jyk7CgkJCXJldHVybjsKCQl9CgoJCWNvbnNvbGUubG9nKG5vZGUuY29uc3RydWN0b3IubmFtZSk7CgkJaWYobm9kZS5jb25zdHJ1Y3Rvci5uYW1lID09ICJBcnJheSIpIHsKCQkJcmV0dXJuIG5vZGUubWFwKChjaGlsZCkgPT4gY3JlYXRlVHJlZShjaGlsZCwgb2JqKSkKCQl9CgoJCWNvbnNvbGUubG9nKCdvYmonKTsKCQljb25zb2xlLmxvZyhub2RlLmlkKTsKCQljb25zb2xlLmxvZyhvYmoucGlkKTsKCQlpZihub2RlLmlkID09IG9iai5waWQpIHsKCQkJbm9kZS5zbGF2ZSA9IDI7CgkJCW5vZGUuZmlsZSA9ICcnOwoKCQkJaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CgkJCQlub2RlLmNoaWxkcmVuLnB1c2gob2JqKTsKCQkJfSBlbHNlIHsKCQkJCW5vZGUuY2hpbGRyZW4gPSBbIG9iaiBdOwoJCQl9CgoJCQlyZXR1cm47CgkJfQoKCQlpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKCQkJcmV0dXJuIG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gY3JlYXRlVHJlZShjaGlsZCwgb2JqKSkKCQl9Cgl9KTsKfQoKY29uc3QgZGVsZXRlVHJlZSA9ICh0cmVlLCBvYmopID0+IHsKCXRyZWUubWFwKChub2RlLCBpbmQpID0+IHsKCQljb25zb2xlLmxvZyhub2RlKTsKCQlpZihub2RlID09IFtdIHx8IG5vZGUgPT0ge30pIHsKCQkJY29uc29sZS5sb2coJ2VtcHR5Jyk7CgkJCXJldHVybjsKCQl9CgoJCWNvbnNvbGUubG9nKG5vZGUuY29uc3RydWN0b3IubmFtZSk7CgkJaWYobm9kZS5jb25zdHJ1Y3Rvci5uYW1lID09ICJBcnJheSIpIHsKCQkJdmFyIG5vZGVfaW5kID0gbm9kZS5tYXAoKGNoaWxkLCBjX2luZCkgPT4gZGVsZXRlVHJlZShjaGlsZCwgb2JqLCBjX2luZCkpOwoJCQljb25zb2xlLmxvZyhub2RlX2luZCk7CgkJCXJldHVybiBub2RlLnNwbGljZShub2RlX2luZCwgMSkKCQl9CgoJCWlmKG5vZGUuaWQgPT0gb2JqLmlkKSB7CgkJCWNvbnNvbGUubG9nKG5vZGUuaWQpOwoJCQljb25zb2xlLmxvZyhpbmQpOwoJCQlyZXR1cm4gbm9kZS5zcGxpY2UoaW5kLCAxKQoJCX0KCgkJaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CgkJCXZhciBub2RlX2luZCA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCwgY19pbmQpID0+IGRlbGV0ZVRyZWUoY2hpbGQsIG9iaiwgY19pbmQpKTsKCQkJY29uc29sZS5sb2cobm9kZV9pbmQpOwoJCQlyZXR1cm4gbm9kZS5jaGlsZHJlbi5zcGxpY2Uobm9kZV9pbmQsIDEpCgkJfQoJfSk7Cn0K"},{"version":3,"sources":["Tree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tree.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div>\n\t\t<!--v-sheet class=\"pa-4 primary lighten-2\">\n\t\t\t<v-text-field\n\t\t\t  v-model=\"search\"\n\t\t\t  label=\"Search Company Directory\"\n\t\t\t  dark\n\t\t\t  flat\n\t\t\t  solo-inverted\n\t\t\t  hide-details\n\t\t\t  clearable\n\t\t\t  clear-icon=\"mdi-close-circle-outline\"\n\t\t\t></v-text-field>\n\t\t\t<v-checkbox\n\t\t\t  v-model=\"caseSensitive\"\n\t\t\t  dark\n\t\t\t  hide-details\n\t\t\t  label=\"Case sensitive search\"\n\t\t\t></v-checkbox>\n\t\t</v-sheet-->\n\n\t\t<v-treeview\n\t\t  :open=\"initiallyOpen\"\n\t\t  :items=\"items\"\n\t\t  activatable\n\t\t  item-key=\"id\"\n\t\t  item-text=\"bname\"\n\t\t  open-on-click\n\t\t  return-object\n\t\t  @update:active=\"treeClick\"\n\t\t>\n\t\t\t<template v-slot:prepend=\"{ item, open }\">\n\t\t\t\t<v-icon v-if=\"!item.file\">\n\t\t\t\t\t{{ open ? 'mdi-folder-open' : 'mdi-folder' }}\n\t\t\t\t</v-icon>\n\t\t\t\t<v-icon v-else>\n\t\t\t\t\t{{ files[item.file] }}\n\t\t\t\t</v-icon>\n\t\t\t</template>\n\t\t</v-treeview>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '@/EventBus.js'\n\nexport default {\n\tname: \"Tree\",\n\tprops: {\n\t\titems: Array\n\t},\n\tdata: () => ({\n\t\tinitiallyOpen: ['public'],\n\t\tfiles: {\n\t\t\tsuccess: 'mdi-circle-outline',\n\t\t\terr: 'mdi-circle',\n\t\t},\n\n\t\ttree_items: [\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tbname: 'site',\n\t\t\t\tslave: 0,\n\t\t\t\tpid: 0,\n\t\t\t\tchildren: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\tbname: 'grp',\n\t\t\t\t\t\tslave: 2,\n\t\t\t\t\t\tpid: 1,\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 5,\n\t\t\t\t\t\t\t\tbname: 'bch01',\n\t\t\t\t\t\t\t\tslave: 4,\n\t\t\t\t\t\t\t\tpid: 2,\n\t\t\t\t\t\t\t\tfile: 'success',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 3,\n\t\t\t\t\t\tbname: 'grp2',\n\t\t\t\t\t\tslave: 1,\n\t\t\t\t\t\tpid: 1,\n\t\t\t\t\t\tfile: 'err',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 4,\n\t\t\t\t\t  \tbname: 'grp3',\n\t\t\t\t\t\tslave: 1,\n\t\t\t\t\t\tpid: 1,\n\t\t\t\t\t  \tfile: 'success',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t}),\n\tmethods: {\n\t\ttreeClick: function(val) {\n\t\t\tconsole.log(val[0]);\n\t\t\tEventBus.$emit('tree_click', val[0]);\n\t\t}\n\t},\n\tcreated() {\n\t},\n\tcomputed: {\n\t\tfilter() {\n\t\t\treturn this.caseSensitive\n\t\t\t\t? (item, search, textkey) => item[textKey].indexOf(search) > -1\n\t\t\t\t: undefined\n\t\t}\n\t}\n}\n\nconst createTree = (tree, obj) => {\n\ttree.map((node) => {\n\t\t\tconsole.log(node);\n\t\tif(node == [] || node == {}) {\n\t\t\tconsole.log('empty');\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log(node.constructor.name);\n\t\tif(node.constructor.name == \"Array\") {\n\t\t\treturn node.map((child) => createTree(child, obj))\n\t\t}\n\n\t\tconsole.log('obj');\n\t\tconsole.log(node.id);\n\t\tconsole.log(obj.pid);\n\t\tif(node.id == obj.pid) {\n\t\t\tnode.slave = 2;\n\t\t\tnode.file = '';\n\n\t\t\tif (node.children && node.children.length > 0) {\n\t\t\t\tnode.children.push(obj);\n\t\t\t} else {\n\t\t\t\tnode.children = [ obj ];\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (node.children && node.children.length > 0) {\n\t\t\treturn node.children.map((child) => createTree(child, obj))\n\t\t}\n\t});\n}\n\nconst deleteTree = (tree, obj) => {\n\ttree.map((node, ind) => {\n\t\tconsole.log(node);\n\t\tif(node == [] || node == {}) {\n\t\t\tconsole.log('empty');\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log(node.constructor.name);\n\t\tif(node.constructor.name == \"Array\") {\n\t\t\tvar node_ind = node.map((child, c_ind) => deleteTree(child, obj, c_ind));\n\t\t\tconsole.log(node_ind);\n\t\t\treturn node.splice(node_ind, 1)\n\t\t}\n\n\t\tif(node.id == obj.id) {\n\t\t\tconsole.log(node.id);\n\t\t\tconsole.log(ind);\n\t\t\treturn node.splice(ind, 1)\n\t\t}\n\n\t\tif (node.children && node.children.length > 0) {\n\t\t\tvar node_ind = node.children.map((child, c_ind) => deleteTree(child, obj, c_ind));\n\t\t\tconsole.log(node_ind);\n\t\t\treturn node.children.splice(node_ind, 1)\n\t\t}\n\t});\n}\n</script>\n"]}]}